<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui">



    <ui:composition template="template.xhtml">
        <ui:define name="title">
            <h:outputText value="Quertaly Analysis"></h:outputText>
        </ui:define>

        <ui:define name="body">
            <h:form >

                <table >
                    <tr>
                        <td>
                            <h2>Quertaly Analysis</h2>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <p:panelGrid columns="2" >
                                <h:outputLabel value="From" ></h:outputLabel>
                                <p:calendar value="#{analysisController.fromDate}" pattern="dd MMMM yyyy" >
                                </p:calendar>

                                <h:outputLabel value="To" ></h:outputLabel>
                                <p:calendar value="#{analysisController.toDate}" pattern="dd MMMM yyyy" >
                                </p:calendar>

                                <h:outputLabel value="Graph For" ></h:outputLabel>
                                <p:selectManyCheckbox converter="responseForConverter" value="#{analysisController.selectedResponseFors}" >
                                    <f:selectItems value="#{analysisController.responsesFor}" var="rf" itemLabel="#{rf}" itemValue="#{rf}" ></f:selectItems>
                                </p:selectManyCheckbox>
                                
                                <h:outputLabel value="" ></h:outputLabel>
                                <p:commandButton ajax="false" value="Draw Graph" action="#{analysisController.fillQuartelyAnalysis()}" ></p:commandButton>
                            </p:panelGrid>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <p:chart type="line" model="#{analysisController.ccmReocrds}" style="height:600px;width: 900px;"/>
                        </td>
                    </tr>
                </table>

            </h:form>    

        </ui:define>
    </ui:composition>


</html>

